import{a as U,b as g,c as H,d as z,e as G,g as E,h as q,j as A,k as $,l as B,m as Z,n as J,o as K}from"./chunk-LZRWDSPU.js";import{$ as O,A as L,C as y,F as p,H as k,L as o,M as r,N as c,P as d,R as a,aa as T,ea as P,fa as j,i as F,j as C,l as D,na as V,oa as R,pa as M,u as l,v as N,y as v,z as b}from"./chunk-RPW45GJF.js";var _=class t{constructor(n){this.http=n}apiUrl="https://dev-backend-2024.epravaha.com/api/login/svadmin";login(n){return this.http.post(this.apiUrl,n)}static \u0275fac=function(i){return new(i||t)(D(j))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};var S=class t{constructor(){}onCopy(n){n.preventDefault(),console.log("hello")}static \u0275fac=function(i){return new(i||t)};static \u0275dir=L({type:t,selectors:[["","appDisableCopy",""]],hostBindings:function(i,e){i&1&&d("copy",function(m){return e.onCopy(m)})},standalone:!1})};function ee(t,n){t&1&&(o(0,"div",26),c(1,"div",27),r())}function te(t,n){t&1&&(o(0,"span"),a(1,"This is field is required"),r())}function ne(t,n){t&1&&c(0,"span")}function ie(t,n){t&1&&(o(0,"span"),a(1," This field is required "),r())}function oe(t,n){t&1&&(o(0,"span"),a(1," Password must be at least 8 characters long "),r())}function re(t,n){t&1&&(o(0,"span"),a(1," Password must contain at least one [A-Z], [a-z], [0-9], and a special character. "),r())}var w=class t{constructor(n,i){this.http=n;this.router=i}loginForm=new G({mobileNo:new E("",[g.required,g.pattern("^[6-9][0-9]{9}$")]),password:new E("",[g.required,g.minLength(8),g.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*d)(?=.*[@$!%*?&])[A-Za-zd@$!%*?&]{8,}$")])});isLoading=!1;isPasswordVisible=!1;isEye=!1;ngOnInit(){}onLogin(){let n=this.loginForm.value;console.log(n);let i={mobileno:this.loginForm.value?.mobileNo,password:this.loginForm.value?.password};this.isLoading=!0,this.http.login(i).subscribe({next:e=>{e?(localStorage.setItem("login",e.token),this.router.navigate(["/admin"])):(alert("Incorrect data"),console.log(e.message))},error:e=>{alert("Incorrect data"),this.isLoading=!1},complete:()=>{}})}onChangeVal(n){let i=n.target,e=i.value;e=e.replace(/[^0-9]/g,""),e.length>10&&(e=e.slice(6,9)),e.length>0&&parseInt(e[0],10)<6&&(e=e.slice(1)),i.value=e,this.loginForm.get("mobileNo")?.setValue(e)}onEye(){this.isEye=!this.isEye,this.isPasswordVisible=!this.isPasswordVisible}static \u0275fac=function(i){return new(i||t)(N(_),N(V))};static \u0275cmp=v({type:t,selectors:[["app-sign-in"]],standalone:!1,decls:42,vars:8,consts:[[1,"loginPage"],["class","loder-main",4,"ngIf"],[1,"bgColor"],[1,"logoSec"],[1,"pt-4"],["src","","width","310px","alt",""],["routerLink","/user-login",1,"btn","bg-success"],[1,"d-flex","justify-content-center","align-items-center","mt-5","text-white","flex-column"],[1,"text-center"],["novalidate","",1,"w-25",3,"formGroup"],[1,"text-white","d-flex","flex-column","gap-2"],["for",""],["appDisableCopy","","formControlName","mobileNo","type","text","name","mobileno","id","mobileno","maxlength","10",3,"input"],[1,"text-danger"],[1,"text-white","d-flex","flex-column","gap-2","mt-3"],["for","password"],[1,"d-flex"],["appDisableCopy","","formControlName","password","name","password","id","password","minlength","8",1,"w-100",3,"type"],[1,"d-flex","align-items-center",2,"margin-left","-24px","cursor","pointer"],[1,"text-black","fa-solid",3,"click","ngClass"],[4,"ngIf"],[1,"text-white","d-flex","justify-content-between","mt-3"],[1,"d-flex","align-items-center"],["type","radio"],[1,"m-0"],["type","button",1,"btn","btn-warning","w-100","mt-3",3,"click"],[1,"loder-main"],[1,"loader"]],template:function(i,e){if(i&1&&(o(0,"div",0),y(1,ee,2,0,"div",1),o(2,"div",2)(3,"div",3)(4,"div",4),c(5,"img",5),r(),o(6,"button",6),a(7,"User Login"),r()(),o(8,"div",7)(9,"div",8)(10,"h1"),a(11,"Login"),r(),o(12,"p"),a(13,"Login to your account"),r()(),o(14,"form",9)(15,"div",10)(16,"label",11),a(17,"Mobile Number"),r(),o(18,"input",12),d("input",function(m){return e.onChangeVal(m)}),r(),o(19,"div",13),y(20,te,2,0,"span")(21,ne,1,0,"span"),r()(),o(22,"div",14)(23,"label",15),a(24,"Password"),r(),o(25,"div",16),c(26,"input",17),o(27,"span",18)(28,"i",19),d("click",function(){return e.onEye()}),r()()(),o(29,"div",13),y(30,ie,2,0,"span",20)(31,oe,2,0,"span",20)(32,re,2,0,"span",20),r()(),o(33,"div",21)(34,"div",22),c(35,"input",23),o(36,"p",24),a(37,"Remember me"),r()(),o(38,"p",24),a(39,"Rest Password?"),r()(),o(40,"button",25),d("click",function(){return e.onLogin()}),a(41,"Sign In"),r()()()()()),i&2){let s,m,f,h;l(),p("ngIf",e.isLoading),l(13),p("formGroup",e.loginForm),l(6),k((s=e.loginForm.get("mobileNo"))!=null&&s.invalid&&((s=e.loginForm.get("mobileNo"))!=null&&s.touched)?20:e.loginForm.controls.mobileNo.hasError("pattern")?21:-1),l(6),p("type",e.isPasswordVisible?"text":"password"),l(2),p("ngClass",e.isEye?"fa-eye":"fa-eye-slash"),l(2),p("ngIf",((m=e.loginForm.get("password"))==null?null:m.invalid)&&((m=e.loginForm.get("password"))==null?null:m.touched)),l(),p("ngIf",((f=e.loginForm.get("password"))==null?null:f.hasError("minlength"))&&((f=e.loginForm.get("password"))==null?null:f.touched)),l(),p("ngIf",((h=e.loginForm.get("password"))==null?null:h.hasError("pattern"))&&((h=e.loginForm.get("password"))==null?null:h.touched))}},dependencies:[O,T,R,q,U,H,z,B,Z,A,$,S],styles:[".loginPage[_ngcontent-%COMP%]{width:100%;background-image:url(/img/loginbg.png);background-position:center;background-size:cover;min-height:100vh}.loginPage[_ngcontent-%COMP%]   .loder-main[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;height:100%;align-items:center;justify-content:center;background:#2d49ad;opacity:.9;z-index:999}.loginPage[_ngcontent-%COMP%]   .loder-main[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loginPage[_ngcontent-%COMP%]   .bgColor[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#253d90;opacity:.8;z-index:999}.loginPage[_ngcontent-%COMP%]   .logoSec[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.loginPage[_ngcontent-%COMP%]   .logoSec[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;height:50px;margin-right:30px;color:#fff}"]})};var x=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=v({type:t,selectors:[["app-sign-up"]],standalone:!1,decls:2,vars:0,template:function(i,e){i&1&&(o(0,"p"),a(1,"sign-up works!"),r())},encapsulation:2})};var ae=[{path:"",component:w},{path:"signup",component:x}],I=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=b({type:t});static \u0275inj=C({imports:[M.forChild(ae),M]})};var Q=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=b({type:t});static \u0275inj=C({imports:[P,I,K,P,J]})};export{Q as LoginModule};
