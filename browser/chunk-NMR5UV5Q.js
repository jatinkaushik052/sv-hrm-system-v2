import{a as ee,b as x,c as te,d as A,e as ie,f as ne,g as S,h as D,i as oe,j as re,k as ae,n as se,o as le}from"./chunk-LZRWDSPU.js";import{C as f,F as c,H as h,I as G,J,K as $,L as n,M as t,N as C,O as _,P as u,Q as d,R as a,S as y,T as k,V as E,W as L,X as z,aa as v,ba as H,ca as Y,da as K,ea as Q,j as V,la as W,ma as X,na as Z,o as m,oa as w,p,pa as R,r as j,u as l,v as F,y as g,z as T}from"./chunk-RPW45GJF.js";function pe(i,o){i&1&&(n(0,"h1",8),a(1,"Data Saved Successfully "),t())}function ce(i,o){i&1&&(n(0,"h1",8),a(1,"Data Updated Successfully"),t())}function ue(i,o){if(i&1){let e=_();n(0,"button",9),u("click",function(){m(e);let s=d();return p(s.add_closeModal())}),a(1,"Okay"),t()}}function fe(i,o){if(i&1){let e=_();n(0,"button",11),u("click",function(){m(e);let s=d(2);return p(s.add_closeModal())}),a(1,"Okay"),t()}}function _e(i,o){if(i&1&&f(0,fe,2,0,"button",10),i&2){let e=d();c("ngIf",e.popupType=="edit")}}var M=class i{popupType="add";closePopup=new j(!1);add_closeModal(){this.closePopup.emit(!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-alert"]],inputs:{popupType:"popupType"},outputs:{closePopup:"closePopup"},standalone:!1,decls:9,vars:3,consts:[["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade","show",2,"display","block"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","modal-title fs-5 text-black","id","staticBackdropLabel",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success"],["routerLink","/admin/user/user-list","type","button","data-bs-dismiss","modal",1,"btn","btn-success"],["id","staticBackdropLabel",1,"modal-title","fs-5","text-black"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["routerLink","/admin/user/user-list","type","button","class","btn btn-success","data-bs-dismiss","modal",3,"click",4,"ngIf"],["routerLink","/admin/user/user-list","type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,pe,2,0,"h1",4)(5,ce,2,0,"h1",4),t(),n(6,"div",5),f(7,ue,2,0,"button",6)(8,_e,1,1,"button",7),t()()()()),e&2&&(l(4),c("ngIf",r.popupType=="add"),l(),c("ngIf",r.popupType=="edit"),l(2),h(r.popupType=="add"?7:r.popupType=="edit"?8:-1))},dependencies:[v,w],styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:3;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0006;padding-top:50px}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:5% auto 15%;border:1px solid #888;width:80%}"]})};function ge(i,o){if(i&1){let e=_();n(0,"app-alert",17),u("closePopup",function(s){m(e);let b=d();return p(b.closePopupHere(s))}),t()}i&2&&c("popupType","add")}function Ce(i,o){if(i&1){let e=_();n(0,"app-alert",17),u("closePopup",function(s){m(e);let b=d();return p(b.closePopupHere(s))}),t()}i&2&&c("popupType","edit")}function he(i,o){i&1&&(n(0,"span"),a(1,"This field is required"),t())}function ye(i,o){i&1&&(n(0,"span"),a(1,"Min 3 length is required"),t())}function ve(i,o){i&1&&(n(0,"span"),a(1,"This field is required"),t())}function we(i,o){i&1&&(n(0,"span"),a(1,"Min 3 length is required"),t())}function Se(i,o){i&1&&(n(0,"span"),a(1,"This field is required"),t())}function ke(i,o){i&1&&(n(0,"span"),a(1,"enter valid email"),t())}function Ee(i,o){i&1&&(n(0,"span"),a(1,"This field is required"),t())}function Ie(i,o){i&1&&(n(0,"span"),a(1,"Minimum 3 digit required"),t())}function Ue(i,o){if(i&1){let e=_();n(0,"button",18),u("click",function(){m(e);let s=d();return p(s.onAdd())}),a(1,"Add"),t()}if(i&2){let e=d();c("disabled",e.userForm.invalid)}}function Ve(i,o){if(i&1){let e=_();n(0,"button",19),u("click",function(){m(e);let s=d();return p(s.onUpdate())}),a(1,"Update"),t()}}var U=class i{constructor(o){this.activeRoute=o;this.activeRoute.params.subscribe(e=>{e.id&&(this.currentId=e.id)})}isAdd=!1;isUpdate=!1;userForm=new ie({id:new S(0),name:new S("",[x.required,x.minLength(3)]),username:new S("",[x.required,x.minLength(3)]),salary:new S("",[x.required,x.minLength(3)]),email:new S("",[x.required,x.email])});is_add_modal=!1;userData=[];currentId=0;ngOnInit(){this.getData()}getData(){let o=localStorage.getItem("userList");if(o!==null&&(this.userData=JSON.parse(o),this.currentId!==0)){let e=this.userData.find(r=>r.id===Number(this.currentId));e!==void 0&&this.userForm.patchValue({id:e.id,name:e.name,username:e.username,salary:e.salary,email:e.email})}}onAdd(){this.isAdd=!0,this.add_openModal();let o={id:0,name:this.userForm.value?.name,username:this.userForm.value?.username,salary:this.userForm.value?.salary,email:this.userForm.value?.email},e=localStorage.getItem("userList");if(e==null)o.id=1,this.userData.push(o),localStorage.setItem("userList",JSON.stringify(this.userData));else{let r=JSON.parse(e);o.id=r.length+1,this.userData.push(o),r.push(o),localStorage.setItem("userList",JSON.stringify(r))}this.userForm.reset()}onUpdate(){this.isUpdate=!0,this.add_openModal();let o=this.userData.find(e=>e.id===Number(this.currentId));debugger;o!==void 0&&(o.name=this.userForm.get("name")?.value,o.username=this.userForm.get("username")?.value,o.salary=this.userForm.get("salary")?.value,o.email=this.userForm.get("email")?.value,localStorage.setItem("userList",JSON.stringify(this.userData)),console.log("Updated User Data: ",this.userData))}add_openModal(){this.is_add_modal=!0}add_closeModal(){this.is_add_modal=!1}closePopupHere(o){this.isAdd=o,this.isUpdate=o}static \u0275fac=function(e){return new(e||i)(F(W))};static \u0275cmp=g({type:i,selectors:[["app-add-user"]],standalone:!1,decls:39,vars:9,consts:[[3,"popupType","closePopup",4,"ngIf"],[1,"row","border","border-1","shadow-lg","py-2"],[1,"col-12"],[1,"text-center","text-black","pb-4"],[1,"d-flex","align-items-center","justify-content-center","text-black"],["novalidate","",1,"row","g-3",3,"formGroup"],[1,"col-md-6"],["for","inputEmail4",1,"form-label"],["formControlName","name","type","text","id","inputEmail4",1,"form-control"],[1,"text-danger"],["for","inputPassword4",1,"form-label"],["formControlName","username","type","text",1,"form-control"],["formControlName","email","type","email","id","inputEmail4","placeholder","",1,"form-control"],["for","inputAddress2",1,"form-label"],["formControlName","salary","type","number","id","inputAddress2","placeholder","",1,"form-control"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-warning",3,"click",4,"ngIf"],[3,"closePopup","popupType"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-warning",3,"click"]],template:function(e,r){e&1&&(f(0,ge,1,1,"app-alert",0)(1,Ce,1,1,"app-alert",0),n(2,"div",1)(3,"div",2)(4,"h3",3),a(5," Enter User Details "),t(),n(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),a(10,"Name"),t(),C(11,"input",8),n(12,"div",9),f(13,he,2,0,"span")(14,ye,2,0,"span"),t()(),n(15,"div",6)(16,"label",10),a(17,"Username"),t(),C(18,"input",11),n(19,"div",9),f(20,ve,2,0,"span")(21,we,2,0,"span"),t()(),n(22,"div",6)(23,"label",7),a(24,"Email"),t(),C(25,"input",12),n(26,"div",9),f(27,Se,2,0,"span")(28,ke,2,0,"span"),t()(),n(29,"div",6)(30,"label",13),a(31,"Salary"),t(),C(32,"input",14),n(33,"div",9),f(34,Ee,2,0,"span")(35,Ie,2,0,"span"),t()(),n(36,"div",2),f(37,Ue,2,1,"button",15)(38,Ve,2,0,"button",16),t()()()()()),e&2&&(c("ngIf",r.isAdd),l(),c("ngIf",r.isUpdate),l(6),c("formGroup",r.userForm),l(6),h(r.userForm.controls.name.touched&&(r.userForm.controls.name.errors!=null&&r.userForm.controls.name.errors.required)?13:r.userForm.controls.name.errors!=null&&r.userForm.controls.name.errors.minlength?14:-1),l(7),h(r.userForm.controls.username.touched&&(r.userForm.controls.username.errors!=null&&r.userForm.controls.username.errors.required)?20:r.userForm.controls.username.errors!=null&&r.userForm.controls.username.errors.minlength?21:-1),l(7),h(r.userForm.controls.email.touched&&(r.userForm.controls.email.errors!=null&&r.userForm.controls.email.errors.required)?27:r.userForm.controls.email.errors!=null&&r.userForm.controls.email.errors.email?28:-1),l(7),h(r.userForm.controls.salary.touched&&(r.userForm.controls.salary.errors!=null&&r.userForm.controls.salary.errors.required)?34:r.userForm.controls.salary.errors!=null&&r.userForm.controls.salary.errors.minlength?35:-1),l(3),c("ngIf",r.currentId===0),l(),c("ngIf",r.currentId!==0))},dependencies:[v,D,ee,oe,te,A,re,ae,M],styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:3;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0006;padding-top:50px}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:5% auto 15%;border:1px solid #888;width:80%}"]})};var N=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-user"]],standalone:!1,decls:13,vars:0,consts:[[1,"text-black","d-flex","align-items-center","gap-1","fs-4","mt-4"],[1,"bx","bxs-user"],[1,"m-0"],[1,"dashboardSlider"],["routerLink","add-user",1,"dashboardCard","d-flex","align-items-center","justify-content-center","text-white","gap-3","shadow-lg","p-3","mb-5","rounded",2,"background-color","#FFC20E"],["routerLink","user-list",1,"dashboardCard","d-flex","align-items-center","justify-content-center","text-white","gap-3",2,"background-color","#3F861E"]],template:function(e,r){e&1&&(n(0,"div")(1,"div",0),C(2,"i",1),n(3,"p",2),a(4,"User Management"),t()(),n(5,"div",3)(6,"div",4)(7,"span"),a(8,"Add User"),t()(),n(9,"div",5)(10,"span"),a(11,"User List"),t()()()(),C(12,"router-outlet"))},dependencies:[X,w],styles:[".dashboardSlider[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center;overflow-x:auto;max-width:100%;gap:15px;white-space:nowrap;scroll-snap-type:x mandatory}.dashboardSlider[_ngcontent-%COMP%]   .dashboardCard[_ngcontent-%COMP%]{width:200px!important;scroll-snap-align:start;height:40px;border-radius:8px;margin-bottom:10px;cursor:pointer;transition:transform .6s ease}.dashboardSlider[_ngcontent-%COMP%]   .dashboardCard[_ngcontent-%COMP%]:hover{font-size:30px;transform:scale(.7)}"]})};function Fe(i,o){if(i&1){let e=_();n(0,"tr")(1,"td"),a(2),t(),n(3,"td"),a(4),E(5,"uppercase"),t(),n(6,"td"),a(7),E(8,"lowercase"),t(),n(9,"td"),a(10),E(11,"lowercase"),t(),n(12,"td"),a(13),E(14,"currency"),t(),n(15,"td")(16,"button",3),u("click",function(){let s=m(e).$implicit,b=d();return p(b.onView(s.id))}),a(17,"View"),t(),n(18,"button",4),u("click",function(){let s=m(e).$implicit,b=d();return p(b.onEdit(s.id))}),a(19,"Edit"),t(),n(20,"button",5),u("click",function(){let s=m(e).$implicit,b=d();return p(b.onDelete(s.id))}),a(21,"Delete"),t()()()}if(i&2){let e=o.$implicit,r=o.$index;l(2),y(r+1),l(2),y(L(5,5,e.name)),l(3),y(L(8,7,e.email)),l(3),y(L(11,9,e.username)),l(3),y(z(14,11,e.salary,"USD"))}}function Te(i,o){if(i&1&&(n(0,"form",16)(1,"div",17)(2,"label",18),a(3,"Name :"),t(),a(4),t(),n(5,"div",17)(6,"label",18),a(7,"Username :"),t(),a(8),t(),n(9,"div",17)(10,"label",18),a(11,"Email :"),t(),a(12),t(),n(13,"div",17)(14,"label",18),a(15,"Salary :"),t(),a(16),t()()),i&2){let e=d(2);l(4),k("",e.currentIdValue.name," "),l(4),k("",e.currentIdValue.username," "),l(4),k("",e.currentIdValue.email," "),l(4),k("$",e.currentIdValue.salary," ")}}function Le(i,o){if(i&1){let e=_();n(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h1",10),a(5,"User Details"),t(),n(6,"button",11),u("click",function(){m(e);let s=d();return p(s.close_view_popup())}),t()(),n(7,"div",12),f(8,Te,17,4,"form",13),t(),n(9,"div",14)(10,"button",15),u("click",function(){m(e);let s=d();return p(s.close_view_popup())}),a(11,"Okay"),t()()()()()}if(i&2){let e=d();l(8),c("ngIf",e.currentIdValue)}}function Ae(i,o){if(i&1){let e=_();n(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h1",19),a(5,"Are You Sure?"),t(),n(6,"button",11),u("click",function(){m(e);let s=d();return p(s.close_modal())}),t()(),n(7,"div",12),a(8," You want to Delete. "),t(),n(9,"div",14)(10,"button",20),u("click",function(){m(e);let s=d();return p(s.close_modal())}),a(11,"No"),t(),n(12,"button",21),u("click",function(){m(e);let s=d();return p(s.deleteData())}),a(13,"Yes"),t()()()()()}}var P=class i{constructor(o){this.router=o}userList=[];is_delete_pop=!1;isView=!1;ngOnInit(){this.getData()}getData(){let o=localStorage.getItem("userList");o!=null&&(this.userList=JSON.parse(o))}onEdit(o){this.router.navigate(["admin/user/add-user",o])}deleted_id;onDelete(o){this.open_modal(),this.deleted_id=o}deleteData(){this.is_delete_pop=!1;let o=this.userList.findIndex(e=>e.id==this.deleted_id);this.userList.splice(o,1),localStorage.setItem("userList",JSON.stringify(this.userList))}open_modal(){this.is_delete_pop=!0}close_modal(){this.is_delete_pop=!1}close_view_popup(){this.isView=!1}currentIdValue=null;onView(o){this.isView=!0,this.currentIdValue=this.userList.find(e=>e.id===o),console.log(this.currentIdValue)}static \u0275fac=function(e){return new(e||i)(F(Z))};static \u0275cmp=g({type:i,selectors:[["app-user-list"]],standalone:!1,decls:20,vars:2,consts:[[1,"table","table-success","table-hover"],["scope","col"],["class","modal fade show","id","exampleModal","data-bs-backdrop","static","style","display: block;","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-primary","ms-2",3,"click"],["type","button",1,"btn","btn-danger","ms-2",3,"click"],["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","show",2,"display","block"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-black"],["action","","class","row gy-4",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["action","",1,"row","gy-4"],[1,"col-6","d-flex","flex-column"],["for",""],["id","staticBackdropLabel",1,"modal-title","fs-5","text-black"],["routerLink","/admin/user/user-list","type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["routerLink","/admin/user/user-list","type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(e,r){e&1&&(n(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),a(4,"S.No"),t(),n(5,"th",1),a(6,"Name"),t(),n(7,"th",1),a(8,"Email"),t(),n(9,"th",1),a(10,"Username"),t(),n(11,"th",1),a(12,"Salary"),t(),n(13,"th",1),a(14,"Action"),t()()(),n(15,"tbody"),J(16,Fe,22,14,"tr",null,G),t()(),f(18,Le,12,1,"div",2)(19,Ae,14,0,"div",2)),e&2&&(l(16),$(r.userList),l(2),c("ngIf",r.isView),l(),c("ngIf",r.is_delete_pop))},dependencies:[v,w,D,A,ne,Y,H,K],styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:3;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0006;padding-top:50px}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:5% auto 15%;border:1px solid #888;width:100%}"]})};var De=[{path:"",component:N,children:[{path:"add-user",component:U},{path:"add-user/:id",component:U},{path:"user-list",component:P}]}],O=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=T({type:i});static \u0275inj=V({imports:[R.forChild(De),R]})};var me=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=T({type:i});static \u0275inj=V({imports:[Q,O,le,se]})};export{me as UserModule};
